<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="toscana.results package" href="toscana.results.html" /><link rel="prev" title="toscana.data_post_processing package" href="toscana.data_post_processing.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>toscana.data_pre_processing package - toscana 0.2.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">toscana 0.2.2 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">toscana 0.2.2 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="toscana.data_post_processing.html">toscana.data_post_processing package</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">toscana.data_pre_processing package</a></li>
<li class="toctree-l1"><a class="reference internal" href="toscana.results.html">toscana.results package</a></li>
<li class="toctree-l1"><a class="reference internal" href="toscana.solar_simulation.html">toscana.solar_simulation package</a></li>
<li class="toctree-l1"><a class="reference internal" href="toscana.utils.html">toscana.utils package</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="toscana-data-pre-processing-package">
<h1>toscana.data_pre_processing package<a class="headerlink" href="#toscana-data-pre-processing-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-toscana.data_pre_processing.grid_creation">
<span id="toscana-data-pre-processing-grid-creation-module"></span><h2>toscana.data_pre_processing.grid_creation module<a class="headerlink" href="#module-toscana.data_pre_processing.grid_creation" title="Link to this heading">#</a></h2>
<p>module to create a grid</p>
<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.grid_creation.define_grid">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.grid_creation.</span></span><span class="sig-name descname"><span class="pre">define_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extent_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IGNF:ETRS89LAEA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.grid_creation.define_grid" title="Link to this definition">#</a></dt>
<dd><p>Obtain the grid that will be used for the simulation.</p>
<p>It is a grid of 1000m (<code class="docutils literal notranslate"><span class="pre">horizontal_spacing</span></code>) per 1000m (<code class="docutils literal notranslate"><span class="pre">vertical_spacing</span></code>) per default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extent_points</strong> (<em>str</em>) – string with the extent points of the commune extent (extents_point obtained in <cite>obtain_municipality_extent</cite>)</p></li>
<li><p><strong>path_grid</strong> (<em>pathlib.Path</em>) – path where to save the layer with the grid</p></li>
<li><p><strong>projection</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the reference system of the grid, by default “IGNF:ETRS89LAEA”</p></li>
<li><p><strong>horizontal_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – horizontal size of grid tiles, by default 1000</p></li>
<li><p><strong>vertical_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – vertical size of grid tiles, by default 1000</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_gpd</strong> – geopandas grid file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>GeoDataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AssertionError</strong> – horizontal_spacing too large (compared to horizontal length of municipality extent)</p></li>
<li><p><strong>AssertionError</strong> – vertical_spacing too large (compared to vertical length of municipality extent)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.grid_creation.obtain_grid">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.grid_creation.</span></span><span class="sig-name descname"><span class="pre">obtain_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IGNF:ETRS89LAEA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.grid_creation.obtain_grid" title="Link to this definition">#</a></dt>
<dd><p>Create the grid in order to run the SEBE simulation for the studied village.</p>
<p>It is a grid of 1000m (<code class="docutils literal notranslate"><span class="pre">horizontal_spacing</span></code>) per 1000m (<code class="docutils literal notranslate"><span class="pre">vertical_spacing</span></code>) per default (in IGNF ETRS89LAEA reference system by default, modify <a href="#id1"><span class="problematic" id="id2">``</span></a>projection``to change it).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>projection</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the reference system of the grid, by default “IGNF:ETRS89LAEA”</p></li>
<li><p><strong>horizontal_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – horizontal size of grid tiles, by default 1000</p></li>
<li><p><strong>vertical_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – vertical size of grid tiles, by default 1000</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_gpd</strong> – geopandas grid file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.grid_creation.obtain_municipality_extent">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.grid_creation.</span></span><span class="sig-name descname"><span class="pre">obtain_municipality_extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_reproject_municipality_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_municipality_extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IGNF:ETRS89LAEA'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.grid_creation.obtain_municipality_extent" title="Link to this definition">#</a></dt>
<dd><p>Obtain the rectangle extent of the municipality (from the municipality footprint) and obtain extents points (in IGNF ETRS89LAEA reference system by default, modify <a href="#id3"><span class="problematic" id="id4">``</span></a>projection``to change it).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_reproject_municipality_footprint</strong> (<em>pathlib.Path</em>) – path of the municipality footprint shapefile reproject in the new neference system (for example path_reproject_municipality_footprint obtained in <cite>reproject_municipality_footprint</cite>)</p></li>
<li><p><strong>path_municipality_extent</strong> (<em>pathlib.Path</em>) – path where to save the layer with the municipality extent shapefile</p></li>
<li><p><strong>projection</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the reference system of the grid, by default “IGNF:ETRS89LAEA”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>extent_points</strong> – string with the extent points of the commune extent (format needed for qgis simulation)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-toscana.data_pre_processing.meteorological_files">
<span id="toscana-data-pre-processing-meteorological-files-module"></span><h2>toscana.data_pre_processing.meteorological_files module<a class="headerlink" href="#module-toscana.data_pre_processing.meteorological_files" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.meteorological_files.create_monthly_weather_file">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.meteorological_files.</span></span><span class="sig-name descname"><span class="pre">create_monthly_weather_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_gdf_centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.meteorological_files.create_monthly_weather_file" title="Link to this definition">#</a></dt>
<dd><p>Obtain monthly meteorological files from annual meteorological files for given months. Subfolders to save the monthly weather files are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where ared saved the initial meteorological files</p></li>
<li><p><strong>list_month</strong> (<em>list</em>) – list of the months for which monthly weather files will be generated</p></li>
<li><p><strong>path_gdf_centroid</strong> (<em>pathlib.Path</em>) – path of the geopandas file with the centroid of the actual grid (obtained in <cite>create_centroid</cite>)</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – month must be a int (or a string of numbers)</p></li>
<li><p><strong>AssertionError</strong> – month must be between 1 and 12</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.meteorological_files.create_period_weather_file">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.meteorological_files.</span></span><span class="sig-name descname"><span class="pre">create_period_weather_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_folder_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_gdf_centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_days</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.meteorological_files.create_period_weather_file" title="Link to this definition">#</a></dt>
<dd><p>Obtain meteorological files for a given period from annual meteorological files. Subfolders to save the new weather files are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name_folder_period</strong> (<em>str</em>) – name of the folder where to save the meteorological files for the given period</p></li>
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where ared saved the initial meteorological files</p></li>
<li><p><strong>path_gdf_centroid</strong> (<em>pathlib.Path</em>) – path of the geopandas file with the centroid of the actual grid (obtained in <cite>create_centroid</cite>)</p></li>
<li><p><strong>list_days</strong> (<em>list</em>) – list of the day numbers of the year included in the given period</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>path_period_weather_file</strong> – path of the folder with the created meteorological files for the given period</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – list_days must be a list of int (or a list of strings of numbers)</p></li>
<li><p><strong>AssertionError</strong> – day numbers must be between 1 and 365</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.meteorological_files.create_winter_summer_month_weather_file">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.meteorological_files.</span></span><span class="sig-name descname"><span class="pre">create_winter_summer_month_weather_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_gdf_centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_winter_month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_summer_month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.meteorological_files.create_winter_summer_month_weather_file" title="Link to this definition">#</a></dt>
<dd><p>Obtain meteorological files for two periods from annual meteorological files. One of the period should correspond to winter months, and is defined by default from January to March and from November to December. The second period should correspond to summer months, and is defined by default as all other months from the winter months. Subfolders to save the new weather files are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where ared saved the initial meteorological files</p></li>
<li><p><strong>path_gdf_centroid</strong> (<em>pathlib.Path</em>) – path of the geopandas file with the centroid of the actual grid (obtained in <cite>create_centroid</cite>)</p></li>
<li><p><strong>list_winter_month</strong> (<em>list</em><em>, </em><em>optional</em>) – list of the winter months, by default []</p></li>
<li><p><strong>list_summer_month</strong> (<em>list</em><em>, </em><em>optional</em>) – list_of the summer months, by default []</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>path_folder_summer</strong> (<em>pathlib.Path</em>) – path of the folder with the created summer meteorological files</p></li>
<li><p><strong>path_folder_winter</strong> (<em>pathlib.Path</em>) – path of the folder with the created winter meteorological files</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – list_winter_month and list_summer_month must be list of int (or list of strings of numbers)</p></li>
<li><p><strong>AssertionError</strong> – month must be between 1 and 12</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.meteorological_files.obtain_meteorological_files">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.meteorological_files.</span></span><span class="sig-name descname"><span class="pre">obtain_meteorological_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_temp_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_no_average_if_one_problem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_no_average_for_the_error_tile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_tests</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.meteorological_files.obtain_meteorological_files" title="Link to this definition">#</a></dt>
<dd><p>Obtain the meteorological files needed to run the SEBE simulations.</p>
<p>Folders to save the files are created.
Centroids of the grid tiles are created.
They are modified to include the 12 closest centroids.
The metorological files are obtained in epw format, and then transform in txt format, needed for the simulations. These temporary files are saved only if <code class="docutils literal notranslate"><span class="pre">save_temp_file</span></code> is set to True.
An average of the meteorological file from the tile and the 12 closest tiles is done if <code class="docutils literal notranslate"><span class="pre">average</span></code> is set to True (default value) (due to the low resolution of the meteorological data).
If there is some meteorological files that could not be downloaded, the average is done only with the valid neighbouring tiles (default).
<code class="docutils literal notranslate"><span class="pre">option_no_average_if_one_problem</span></code> and <code class="docutils literal notranslate"><span class="pre">option_no_average_for_the_error_tile</span></code> will be used only if <code class="docutils literal notranslate"><span class="pre">average</span></code> is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where to save all the meteorological files</p></li>
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>save_temp_file</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to save or not temporary meteorological files, by default True</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
<li><p><strong>option_no_average_if_one_problem</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to don’t average any meteorological file if there is one problem for one tile or one of the neighbouring tile among all the tiles, by default False</p></li>
<li><p><strong>option_no_average_for_the_error_tile</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to don’t average the meteorological file if there is one problem for the studied tile or one of the neighbouring tile of the studied tile, by default False</p></li>
<li><p><strong>nb_tests</strong> (<em>int</em><em>, </em><em>optional</em>) – number of time to test downloading the meteorological file if there is a connection problem, by default 5</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.meteorological_files.transform_days_into_period">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.meteorological_files.</span></span><span class="sig-name descname"><span class="pre">transform_days_into_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_month</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.meteorological_files.transform_days_into_period" title="Link to this definition">#</a></dt>
<dd><p>Obtain a list with the day numbers of the year for a given period, defined with the date of the first day (day of the month and month of the year) and the date of the last day of the period (day of the month and month of the year).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_day</strong> (<em>int</em>) – day number of the month of the first day of the period</p></li>
<li><p><strong>start_month</strong> (<em>int</em>) – month number of the year of the first day of the period</p></li>
<li><p><strong>end_day</strong> (<em>int</em>) – day number of the month of the last day of the period</p></li>
<li><p><strong>end_month</strong> (<em>int</em>) – month number of the year of the last day of the period</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>list_days</strong> – list with the day number of the year of all the days in the given period</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-toscana.data_pre_processing.raster_preprocessing">
<span id="toscana-data-pre-processing-raster-preprocessing-module"></span><h2>toscana.data_pre_processing.raster_preprocessing module<a class="headerlink" href="#module-toscana.data_pre_processing.raster_preprocessing" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.raster_preprocessing.create_DHM">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.raster_preprocessing.</span></span><span class="sig-name descname"><span class="pre">create_DHM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_resample_DEM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_buildings_sup_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">large_extent_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_DHM_temp_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_DHM_temp_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_DHM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HAUTEUR'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.raster_preprocessing.create_DHM" title="Link to this definition">#</a></dt>
<dd><p>Create the DHM (only building height above ground level) with a resolution of 1m (default).</p>
<p>First step : create a raster with zero value at the same size/extent than the DSM.
Second step : create the DHM by adding building height. By default, the column name with the height of buildings is “HAUTEUR” (name of the column in BDTOPO database).
Third step : replace the nodata values of the DHM by 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_resample_DEM</strong> (<em>pathlib.Path</em>) – path of the DEM (path_resample_DEM from resample_DEM)</p></li>
<li><p><strong>path_buildings_sup_0</strong> (<em>pathlib.Path</em>) – path of the shapefile with buildings (and heights) (path_buildings_sup_0 from select_buildings_height_sup_0)</p></li>
<li><p><strong>large_extent_grid</strong> (<em>str</em>) – string with the large extent of the grid (from obtain_large_grid_extent)</p></li>
<li><p><strong>path_DHM_temp_1</strong> (<em>pathlib.Path</em>) – path where to save a temporary layer used to create the final DHM</p></li>
<li><p><strong>path_DHM_temp_2</strong> (<em>pathlib.Path</em>) – path where to save a second temporary layer used to create the final DHM</p></li>
<li><p><strong>path_DHM</strong> (<em>pathlib.Path</em>) – path where to save the created DHM</p></li>
<li><p><strong>pixel_resolution</strong> (<em>int</em><em>, </em><em>optional</em>) – Resolution of the DHM, by default 1</p></li>
<li><p><strong>height_column</strong> (<em>str</em><em>, </em><em>optional</em>) – column name with the height of buildings, by default “HAUTEUR”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.raster_preprocessing.create_DSM">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.raster_preprocessing.</span></span><span class="sig-name descname"><span class="pre">create_DSM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_resample_DEM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_buildings_sup_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">large_extent_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_DSM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_DSM_temp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HAUTEUR'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.raster_preprocessing.create_DSM" title="Link to this definition">#</a></dt>
<dd><p>Create the DSM from the DEM (resample at 1m resolution (default)).</p>
<p>By default, the column name with the height of buildings is “HAUTEUR” (name of the column in BDTOPO database).
The nodata values of the DSM are replaced by 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_resample_DEM</strong> (<em>pathlib.Path</em>) – path of the DEM (path_resample_DEM from resample_DEM)</p></li>
<li><p><strong>path_buildings_sup_0</strong> (<em>pathlib.Path</em>) – path of the shapefile with buildings (and heights) (path_buildings_sup_0 from select_buildings_height_sup_0)</p></li>
<li><p><strong>large_extent_grid</strong> (<em>str</em>) – string with the large extent of the grid (from obtain_large_grid_extent)</p></li>
<li><p><strong>path_DSM</strong> (<em>pathlib.Path</em>) – path where to save the layer with the created DSM</p></li>
<li><p><strong>path_DSM_temp</strong> (<em>pathlib.Path</em>) – path where to save a temporary layer used to create the final DSM</p></li>
<li><p><strong>pixel_resolution</strong> (<em>int</em><em>, </em><em>optional</em>) – Resolution of the DSM, by default 1</p></li>
<li><p><strong>height_column</strong> (<em>str</em><em>, </em><em>optional</em>) – column name with the height of buildings, by default “HAUTEUR”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.raster_preprocessing.download_extract_and_merge_DEM_from_OpenDEM">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.raster_preprocessing.</span></span><span class="sig-name descname"><span class="pre">download_extract_and_merge_DEM_from_OpenDEM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_raw_data_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool_France</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.raster_preprocessing.download_extract_and_merge_DEM_from_OpenDEM" title="Link to this definition">#</a></dt>
<dd><p>Download and extract the DEM raster tile from the OpenDEM website according to the municipality footprint extent.</p>
<p>The raster tiles are then merged together to have a unique merge DEM.
First, the edge tile are obtained. If the municipality footprint extent is close to the border of the tile, the neighbouring tile is also download.
All the tiles that overlap with the extent of municipality footprint are downloaded and then merge together.
If the studied territory is not located in France, <code class="docutils literal notranslate"><span class="pre">bool_France</span></code> should be set to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_raw_data_folder</strong> (<em>pathlib.Path</em>) – path of the folder with raw data (downloaded) files (define in main function)</p></li>
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>bool_France</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to indicate or not if the territory of interest is located in France or not, by default True</p></li>
<li><p><strong>threshold</strong> (<em>int</em><em>, </em><em>optional</em>) – minimal value (in meters) of the difference between the municipality extent and the border of the raster tile, by default 100</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>path_merge_dem</strong> – path where is saved the merged DEM</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.raster_preprocessing.preprocess_raster_file">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.raster_preprocessing.</span></span><span class="sig-name descname"><span class="pre">preprocess_raster_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_raster_files</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_DEM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IGNF:ETRS89LAEA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HAUTEUR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pixel_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.raster_preprocessing.preprocess_raster_file" title="Link to this definition">#</a></dt>
<dd><p>Preprocess and create the raster files that are needed for the SEBE simulation.</p>
<p>A larger DEM than the grid extent is needed because of the resampling.
The DEM is resampled in order to have a resolution of 1m.
This resolution is needed to add the height of building to create the DSM.
Only buildings with height above zero are kept for the analysis.
A DHM is also created for the calculation of wall height and wall aspect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_raster_files</strong> (<em>pathlib.Path</em>) – path of the folder with temporary raster files (define in main function)</p></li>
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>path_DEM</strong> (<em>pathlib.Path</em>) – path of the raw input DEM, it is supposed to have 25m resolution and IGNF ETRS89LAEA projection</p></li>
<li><p><strong>projection</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the reference system of the grid, by default “IGNF:ETRS89LAEA”</p></li>
<li><p><strong>extra_size</strong> (<em>int</em><em>, </em><em>optional</em>) – extra width and height to add to the extent of the grid, by default 1000</p></li>
<li><p><strong>resample_method</strong> (<em>int</em><em>, </em><em>optional</em>) – Select the resampling method (1 = bilinear), by default 1
from 0 to 11, see gdal:warpreproject documentation</p></li>
<li><p><strong>height_column</strong> (<em>str</em><em>, </em><em>optional</em>) – column name with the height of buildings, by default “HAUTEUR”</p></li>
<li><p><strong>pixel_resolution</strong> (<em>int</em><em>, </em><em>optional</em>) – Select the resolution of the rasters, by default 1</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AssertionError</strong> – extra_size should be high enough to enable the resampling (extra_size &lt; 4*resolution_x or extra_size &lt;4*resolution_y)</p></li>
<li><p><strong>AttributeError</strong> – height_column not in the dataframe</p></li>
<li><p><strong>AttributeError</strong> – height_column must contain numbers (int or float)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.raster_preprocessing.resample_DEM">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.raster_preprocessing.</span></span><span class="sig-name descname"><span class="pre">resample_DEM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_clip_large_DEM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_resample_DEM</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">large_extent_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.raster_preprocessing.resample_DEM" title="Link to this definition">#</a></dt>
<dd><p>Resample the original DEM to obtain a DEM of 1m resolution (default), default option is bilinear resample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_clip_large_DEM</strong> (<em>pathlib.Path</em>) – path with the DEM to resample (path_output from clip_DEM_large)</p></li>
<li><p><strong>path_resample_DEM</strong> (<em>pathlib.Path</em>) – path where to save the layer with the resampled DEM</p></li>
<li><p><strong>large_extent_grid</strong> (<em>str</em>) – string with the large extent of the grid, from obtain_large_grid_extent</p></li>
<li><p><strong>resample_method</strong> (<em>int</em><em>, </em><em>optional</em>) – Select the resampling method (1= bilinear) , by default 1
from 0 to 11, see gdal:warpreproject documentation</p></li>
<li><p><strong>resample_resolution</strong> (<em>int</em><em>, </em><em>optional</em>) – Select the resampling resolution, by default 1</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – resample_method must be between 0 and 11 (available resampling method)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.raster_preprocessing.select_buildings_height_sup_0">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.raster_preprocessing.</span></span><span class="sig-name descname"><span class="pre">select_buildings_height_sup_0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_reproject_municipality_buildings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_buildings_sup_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HAUTEUR'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.raster_preprocessing.select_buildings_height_sup_0" title="Link to this definition">#</a></dt>
<dd><p>Select only buildings with a height above 0 (necessary to create DSM).</p>
<p>By default, the column name with the height of buildings is “HAUTEUR” (name of the column in BDTOPO database).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_reproject_municipality_buildings</strong> (<em>pathlib.Path</em>) – path of the shapefile layer with the buildings (path_reproject_municipality_buildings from reproject buildings/check validity)</p></li>
<li><p><strong>path_buildings_sup_0</strong> (<em>pathlib.Path</em>) – path where to save the layer with the shapefile with only buildings with a height above 0</p></li>
<li><p><strong>height_column</strong> (<em>str</em><em>, </em><em>optional</em>) – column name with the height of buildings, by default “HAUTEUR”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-toscana.data_pre_processing.shp_preprocessing">
<span id="toscana-data-pre-processing-shp-preprocessing-module"></span><h2>toscana.data_pre_processing.shp_preprocessing module<a class="headerlink" href="#module-toscana.data_pre_processing.shp_preprocessing" title="Link to this heading">#</a></h2>
<p>module to pre-process shapefiles</p>
<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.shp_preprocessing.check_validity">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.shp_preprocessing.</span></span><span class="sig-name descname"><span class="pre">check_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_input_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_valid_shapefiles</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.shp_preprocessing.check_validity" title="Link to this definition">#</a></dt>
<dd><p>Verify the validity of buildings footprints (remove invalid features).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_input_shapefiles</strong> (<em>pathlib.Path</em>) – path of the shapefile to verify (path_reproject_municipality_buildings obtained in <cite>reproject_buildings</cite> for example)</p></li>
<li><p><strong>path_valid_shapefiles</strong> (<em>pathlib.Path</em>) – path where to save the shapefile layer with only valid features</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.shp_preprocessing.download_and_extract_BDTOPO_data">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.shp_preprocessing.</span></span><span class="sig-name descname"><span class="pre">download_and_extract_BDTOPO_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">departement</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_raw_data_folder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.shp_preprocessing.download_and_extract_BDTOPO_data" title="Link to this definition">#</a></dt>
<dd><p>Download shapefiles (municipalities footprints and buildings footprints) from the BDTOPO database on the IGN website giving a the number of the <code class="docutils literal notranslate"><span class="pre">departement</span></code>.</p>
<p>A packed folder is downloaded and then extracted.
The version downloaded is the 15-12-2023 version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>departement</strong> (<em>str</em>) – departement the municipality</p></li>
<li><p><strong>path_raw_data_folder</strong> (<em>pathlib.Path</em>) – path of the folder with raw data (downloaded) files (define in main function)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>path_departement_municipalities_footprint</strong> (<em>pathlib.Path</em>) – path of the municipalities footprints for the department of interest</p></li>
<li><p><strong>path_input_departement_building</strong> (<em>pathlib.Path</em>) – path of the buildings footprints for the department of interest</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.shp_preprocessing.obtain_municipality_buildings">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.shp_preprocessing.</span></span><span class="sig-name descname"><span class="pre">obtain_municipality_buildings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_input_departement_building</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_input_municipality_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_municipality_buildings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.shp_preprocessing.obtain_municipality_buildings" title="Link to this definition">#</a></dt>
<dd><p>Obtain the buildings of the selected municipality from the buildings of the departement of interest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_input_departement_building</strong> (<em>pathlib.Path</em>) – path of the shapefile with buildings from the selected departement</p></li>
<li><p><strong>path_input_municipality_footprint</strong> (<em>pathlib.Path</em>) – path of the municipality footprint (path_output_municipality_footprint obtained in <cite>obtain_municipality_footprint</cite>)</p></li>
<li><p><strong>path_municipality_buildings</strong> (<em>pathlib.Path</em>) – path where to save the layer with buildings of the municipality</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.shp_preprocessing.obtain_municipality_footprint">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.shp_preprocessing.</span></span><span class="sig-name descname"><span class="pre">obtain_municipality_footprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_departement_municipalities_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_output_municipality_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">INSEE_code</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.shp_preprocessing.obtain_municipality_footprint" title="Link to this definition">#</a></dt>
<dd><p>Obtain the municipality footprint of the selected municipality among all the municipalities of the selected departement using the <code class="docutils literal notranslate"><span class="pre">INSEE_code</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_departement_municipalities_footprint</strong> (<em>pathlib.Path</em>) – path of the municipalities footprint for the department of interest</p></li>
<li><p><strong>path_output_municipality_footprint</strong> (<em>pathlib.Path</em>) – path where to save the layer with the municipality footprint of the selected municipality</p></li>
<li><p><strong>INSEE_code</strong> (<em>str</em>) – INSEE code of the municipality to study</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.shp_preprocessing.preprocess_municipality_buildings">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.shp_preprocessing.</span></span><span class="sig-name descname"><span class="pre">preprocess_municipality_buildings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_municipalities_dep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">village_INSEE_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_buildings_dep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.shp_preprocessing.preprocess_municipality_buildings" title="Link to this definition">#</a></dt>
<dd><p>Pre process the municipality and the building footprints.</p>
<p>It allows to obtain the buildings and municipality footprints of the studied municiaplity and reproject them in the good geographical reference system.
Invalid features are also removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>path_municipalities_dep</strong> (<em>pathlib.Path</em>) – path of the municipalities footprints for the department of interest</p></li>
<li><p><strong>village_INSEE_code</strong> (<em>str</em>) – INSEE code of the municipality to study</p></li>
<li><p><strong>path_buildings_dep</strong> (<em>pathlib.Path</em>) – path of the shapefile with buildings from the selected departement</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.shp_preprocessing.reproject_shapefiles_2154_to_IGNF">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.shp_preprocessing.</span></span><span class="sig-name descname"><span class="pre">reproject_shapefiles_2154_to_IGNF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_shapefiles_2154</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shapefiles_IGNF</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.shp_preprocessing.reproject_shapefiles_2154_to_IGNF" title="Link to this definition">#</a></dt>
<dd><p>Reproject shapefiles from EPSG 2154 reference system into IGNF : ETRS89LAEA reference system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_shapefiles_2154</strong> (<em>pathlib.Path</em>) – path of the shapefile in the reference system EPSG:2154 (path_output_municipality_footprint obtained in <cite>obtain_municipality_footprint or path_municipality_buildings from obtain_municipality_buildings</cite>)</p></li>
<li><p><strong>path_shapefiles_IGNF</strong> (<em>pathlib.Path</em>) – path where to save the layer (shapefile reproject in IGNF: ETRS89LAEA reference system)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-toscana.data_pre_processing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-toscana.data_pre_processing" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.check_validity">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">check_validity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_input_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_valid_shapefiles</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.check_validity" title="Link to this definition">#</a></dt>
<dd><p>Verify the validity of buildings footprints (remove invalid features).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_input_shapefiles</strong> (<em>pathlib.Path</em>) – path of the shapefile to verify (path_reproject_municipality_buildings obtained in <cite>reproject_buildings</cite> for example)</p></li>
<li><p><strong>path_valid_shapefiles</strong> (<em>pathlib.Path</em>) – path where to save the shapefile layer with only valid features</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.create_monthly_weather_file">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">create_monthly_weather_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_gdf_centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.create_monthly_weather_file" title="Link to this definition">#</a></dt>
<dd><p>Obtain monthly meteorological files from annual meteorological files for given months. Subfolders to save the monthly weather files are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where ared saved the initial meteorological files</p></li>
<li><p><strong>list_month</strong> (<em>list</em>) – list of the months for which monthly weather files will be generated</p></li>
<li><p><strong>path_gdf_centroid</strong> (<em>pathlib.Path</em>) – path of the geopandas file with the centroid of the actual grid (obtained in <cite>create_centroid</cite>)</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – month must be a int (or a string of numbers)</p></li>
<li><p><strong>AssertionError</strong> – month must be between 1 and 12</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.create_period_weather_file">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">create_period_weather_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_folder_period</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_gdf_centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_days</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.create_period_weather_file" title="Link to this definition">#</a></dt>
<dd><p>Obtain meteorological files for a given period from annual meteorological files. Subfolders to save the new weather files are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name_folder_period</strong> (<em>str</em>) – name of the folder where to save the meteorological files for the given period</p></li>
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where ared saved the initial meteorological files</p></li>
<li><p><strong>path_gdf_centroid</strong> (<em>pathlib.Path</em>) – path of the geopandas file with the centroid of the actual grid (obtained in <cite>create_centroid</cite>)</p></li>
<li><p><strong>list_days</strong> (<em>list</em>) – list of the day numbers of the year included in the given period</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>path_period_weather_file</strong> – path of the folder with the created meteorological files for the given period</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – list_days must be a list of int (or a list of strings of numbers)</p></li>
<li><p><strong>AssertionError</strong> – day numbers must be between 1 and 365</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.create_winter_summer_month_weather_file">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">create_winter_summer_month_weather_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_gdf_centroid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_winter_month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_summer_month</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.create_winter_summer_month_weather_file" title="Link to this definition">#</a></dt>
<dd><p>Obtain meteorological files for two periods from annual meteorological files. One of the period should correspond to winter months, and is defined by default from January to March and from November to December. The second period should correspond to summer months, and is defined by default as all other months from the winter months. Subfolders to save the new weather files are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where ared saved the initial meteorological files</p></li>
<li><p><strong>path_gdf_centroid</strong> (<em>pathlib.Path</em>) – path of the geopandas file with the centroid of the actual grid (obtained in <cite>create_centroid</cite>)</p></li>
<li><p><strong>list_winter_month</strong> (<em>list</em><em>, </em><em>optional</em>) – list of the winter months, by default []</p></li>
<li><p><strong>list_summer_month</strong> (<em>list</em><em>, </em><em>optional</em>) – list_of the summer months, by default []</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>path_folder_summer</strong> (<em>pathlib.Path</em>) – path of the folder with the created summer meteorological files</p></li>
<li><p><strong>path_folder_winter</strong> (<em>pathlib.Path</em>) – path of the folder with the created winter meteorological files</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – list_winter_month and list_summer_month must be list of int (or list of strings of numbers)</p></li>
<li><p><strong>AssertionError</strong> – month must be between 1 and 12</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.define_grid">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">define_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">extent_points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IGNF:ETRS89LAEA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.define_grid" title="Link to this definition">#</a></dt>
<dd><p>Obtain the grid that will be used for the simulation.</p>
<p>It is a grid of 1000m (<code class="docutils literal notranslate"><span class="pre">horizontal_spacing</span></code>) per 1000m (<code class="docutils literal notranslate"><span class="pre">vertical_spacing</span></code>) per default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>extent_points</strong> (<em>str</em>) – string with the extent points of the commune extent (extents_point obtained in <cite>obtain_municipality_extent</cite>)</p></li>
<li><p><strong>path_grid</strong> (<em>pathlib.Path</em>) – path where to save the layer with the grid</p></li>
<li><p><strong>projection</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the reference system of the grid, by default “IGNF:ETRS89LAEA”</p></li>
<li><p><strong>horizontal_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – horizontal size of grid tiles, by default 1000</p></li>
<li><p><strong>vertical_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – vertical size of grid tiles, by default 1000</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_gpd</strong> – geopandas grid file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>GeoDataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AssertionError</strong> – horizontal_spacing too large (compared to horizontal length of municipality extent)</p></li>
<li><p><strong>AssertionError</strong> – vertical_spacing too large (compared to vertical length of municipality extent)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.download_and_extract_BDTOPO_data">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">download_and_extract_BDTOPO_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">departement</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_raw_data_folder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.download_and_extract_BDTOPO_data" title="Link to this definition">#</a></dt>
<dd><p>Download shapefiles (municipalities footprints and buildings footprints) from the BDTOPO database on the IGN website giving a the number of the <code class="docutils literal notranslate"><span class="pre">departement</span></code>.</p>
<p>A packed folder is downloaded and then extracted.
The version downloaded is the 15-12-2023 version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>departement</strong> (<em>str</em>) – departement the municipality</p></li>
<li><p><strong>path_raw_data_folder</strong> (<em>pathlib.Path</em>) – path of the folder with raw data (downloaded) files (define in main function)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>path_departement_municipalities_footprint</strong> (<em>pathlib.Path</em>) – path of the municipalities footprints for the department of interest</p></li>
<li><p><strong>path_input_departement_building</strong> (<em>pathlib.Path</em>) – path of the buildings footprints for the department of interest</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.download_extract_and_merge_DEM_from_OpenDEM">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">download_extract_and_merge_DEM_from_OpenDEM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_raw_data_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bool_France</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.download_extract_and_merge_DEM_from_OpenDEM" title="Link to this definition">#</a></dt>
<dd><p>Download and extract the DEM raster tile from the OpenDEM website according to the municipality footprint extent.</p>
<p>The raster tiles are then merged together to have a unique merge DEM.
First, the edge tile are obtained. If the municipality footprint extent is close to the border of the tile, the neighbouring tile is also download.
All the tiles that overlap with the extent of municipality footprint are downloaded and then merge together.
If the studied territory is not located in France, <code class="docutils literal notranslate"><span class="pre">bool_France</span></code> should be set to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_raw_data_folder</strong> (<em>pathlib.Path</em>) – path of the folder with raw data (downloaded) files (define in main function)</p></li>
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>bool_France</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to indicate or not if the territory of interest is located in France or not, by default True</p></li>
<li><p><strong>threshold</strong> (<em>int</em><em>, </em><em>optional</em>) – minimal value (in meters) of the difference between the municipality extent and the border of the raster tile, by default 100</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>path_merge_dem</strong> – path where is saved the merged DEM</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pathlib.Path</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.obtain_grid">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">obtain_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IGNF:ETRS89LAEA'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">horizontal_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertical_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.obtain_grid" title="Link to this definition">#</a></dt>
<dd><p>Create the grid in order to run the SEBE simulation for the studied village.</p>
<p>It is a grid of 1000m (<code class="docutils literal notranslate"><span class="pre">horizontal_spacing</span></code>) per 1000m (<code class="docutils literal notranslate"><span class="pre">vertical_spacing</span></code>) per default (in IGNF ETRS89LAEA reference system by default, modify <a href="#id5"><span class="problematic" id="id6">``</span></a>projection``to change it).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>projection</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the reference system of the grid, by default “IGNF:ETRS89LAEA”</p></li>
<li><p><strong>horizontal_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – horizontal size of grid tiles, by default 1000</p></li>
<li><p><strong>vertical_spacing</strong> (<em>int</em><em>, </em><em>optional</em>) – vertical size of grid tiles, by default 1000</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_gpd</strong> – geopandas grid file</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.obtain_meteorological_files">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">obtain_meteorological_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_meteorological_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_temp_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_no_average_if_one_problem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option_no_average_for_the_error_tile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_tests</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.obtain_meteorological_files" title="Link to this definition">#</a></dt>
<dd><p>Obtain the meteorological files needed to run the SEBE simulations.</p>
<p>Folders to save the files are created.
Centroids of the grid tiles are created.
They are modified to include the 12 closest centroids.
The metorological files are obtained in epw format, and then transform in txt format, needed for the simulations. These temporary files are saved only if <code class="docutils literal notranslate"><span class="pre">save_temp_file</span></code> is set to True.
An average of the meteorological file from the tile and the 12 closest tiles is done if <code class="docutils literal notranslate"><span class="pre">average</span></code> is set to True (default value) (due to the low resolution of the meteorological data).
If there is some meteorological files that could not be downloaded, the average is done only with the valid neighbouring tiles (default).
<code class="docutils literal notranslate"><span class="pre">option_no_average_if_one_problem</span></code> and <code class="docutils literal notranslate"><span class="pre">option_no_average_for_the_error_tile</span></code> will be used only if <code class="docutils literal notranslate"><span class="pre">average</span></code> is set to True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_meteorological_folder</strong> (<em>pathlib.Path</em>) – path of the folder where to save all the meteorological files</p></li>
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>save_temp_file</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to save or not temporary meteorological files, by default True</p></li>
<li><p><strong>average</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to do or not an average of the meteorological files, by default True</p></li>
<li><p><strong>option_no_average_if_one_problem</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to don’t average any meteorological file if there is one problem for one tile or one of the neighbouring tile among all the tiles, by default False</p></li>
<li><p><strong>option_no_average_for_the_error_tile</strong> (<em>bool</em><em>, </em><em>optional</em>) – boolean value to don’t average the meteorological file if there is one problem for the studied tile or one of the neighbouring tile of the studied tile, by default False</p></li>
<li><p><strong>nb_tests</strong> (<em>int</em><em>, </em><em>optional</em>) – number of time to test downloading the meteorological file if there is a connection problem, by default 5</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.obtain_municipality_buildings">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">obtain_municipality_buildings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_input_departement_building</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_input_municipality_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_municipality_buildings</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.obtain_municipality_buildings" title="Link to this definition">#</a></dt>
<dd><p>Obtain the buildings of the selected municipality from the buildings of the departement of interest.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_input_departement_building</strong> (<em>pathlib.Path</em>) – path of the shapefile with buildings from the selected departement</p></li>
<li><p><strong>path_input_municipality_footprint</strong> (<em>pathlib.Path</em>) – path of the municipality footprint (path_output_municipality_footprint obtained in <cite>obtain_municipality_footprint</cite>)</p></li>
<li><p><strong>path_municipality_buildings</strong> (<em>pathlib.Path</em>) – path where to save the layer with buildings of the municipality</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.obtain_municipality_extent">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">obtain_municipality_extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_reproject_municipality_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_municipality_extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'IGNF:ETRS89LAEA'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.obtain_municipality_extent" title="Link to this definition">#</a></dt>
<dd><p>Obtain the rectangle extent of the municipality (from the municipality footprint) and obtain extents points (in IGNF ETRS89LAEA reference system by default, modify <a href="#id7"><span class="problematic" id="id8">``</span></a>projection``to change it).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_reproject_municipality_footprint</strong> (<em>pathlib.Path</em>) – path of the municipality footprint shapefile reproject in the new neference system (for example path_reproject_municipality_footprint obtained in <cite>reproject_municipality_footprint</cite>)</p></li>
<li><p><strong>path_municipality_extent</strong> (<em>pathlib.Path</em>) – path where to save the layer with the municipality extent shapefile</p></li>
<li><p><strong>projection</strong> (<em>str</em><em>, </em><em>optional</em>) – name of the reference system of the grid, by default “IGNF:ETRS89LAEA”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>extent_points</strong> – string with the extent points of the commune extent (format needed for qgis simulation)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.obtain_municipality_footprint">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">obtain_municipality_footprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_departement_municipalities_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_output_municipality_footprint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">INSEE_code</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.obtain_municipality_footprint" title="Link to this definition">#</a></dt>
<dd><p>Obtain the municipality footprint of the selected municipality among all the municipalities of the selected departement using the <code class="docutils literal notranslate"><span class="pre">INSEE_code</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_departement_municipalities_footprint</strong> (<em>pathlib.Path</em>) – path of the municipalities footprint for the department of interest</p></li>
<li><p><strong>path_output_municipality_footprint</strong> (<em>pathlib.Path</em>) – path where to save the layer with the municipality footprint of the selected municipality</p></li>
<li><p><strong>INSEE_code</strong> (<em>str</em>) – INSEE code of the municipality to study</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.preprocess_municipality_buildings">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">preprocess_municipality_buildings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_shapefiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_municipalities_dep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">village_INSEE_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_buildings_dep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.preprocess_municipality_buildings" title="Link to this definition">#</a></dt>
<dd><p>Pre process the municipality and the building footprints.</p>
<p>It allows to obtain the buildings and municipality footprints of the studied municiaplity and reproject them in the good geographical reference system.
Invalid features are also removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_shapefiles</strong> (<em>pathlib.Path</em>) – path of the folder with temporary shapefiles (define in main function)</p></li>
<li><p><strong>path_municipalities_dep</strong> (<em>pathlib.Path</em>) – path of the municipalities footprints for the department of interest</p></li>
<li><p><strong>village_INSEE_code</strong> (<em>str</em>) – INSEE code of the municipality to study</p></li>
<li><p><strong>path_buildings_dep</strong> (<em>pathlib.Path</em>) – path of the shapefile with buildings from the selected departement</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.reproject_shapefiles_2154_to_IGNF">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">reproject_shapefiles_2154_to_IGNF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_shapefiles_2154</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_shapefiles_IGNF</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.reproject_shapefiles_2154_to_IGNF" title="Link to this definition">#</a></dt>
<dd><p>Reproject shapefiles from EPSG 2154 reference system into IGNF : ETRS89LAEA reference system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_shapefiles_2154</strong> (<em>pathlib.Path</em>) – path of the shapefile in the reference system EPSG:2154 (path_output_municipality_footprint obtained in <cite>obtain_municipality_footprint or path_municipality_buildings from obtain_municipality_buildings</cite>)</p></li>
<li><p><strong>path_shapefiles_IGNF</strong> (<em>pathlib.Path</em>) – path where to save the layer (shapefile reproject in IGNF: ETRS89LAEA reference system)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="toscana.data_pre_processing.transform_days_into_period">
<span class="sig-prename descclassname"><span class="pre">toscana.data_pre_processing.</span></span><span class="sig-name descname"><span class="pre">transform_days_into_period</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start_day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_month</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#toscana.data_pre_processing.transform_days_into_period" title="Link to this definition">#</a></dt>
<dd><p>Obtain a list with the day numbers of the year for a given period, defined with the date of the first day (day of the month and month of the year) and the date of the last day of the period (day of the month and month of the year).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start_day</strong> (<em>int</em>) – day number of the month of the first day of the period</p></li>
<li><p><strong>start_month</strong> (<em>int</em>) – month number of the year of the first day of the period</p></li>
<li><p><strong>end_day</strong> (<em>int</em>) – day number of the month of the last day of the period</p></li>
<li><p><strong>end_month</strong> (<em>int</em>) – month number of the year of the last day of the period</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>list_days</strong> – list with the day number of the year of all the days in the given period</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="toscana.results.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">toscana.results package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="toscana.data_post_processing.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">toscana.data_post_processing package</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Apolline Ferry
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">toscana.data_pre_processing package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-toscana.data_pre_processing.grid_creation">toscana.data_pre_processing.grid_creation module</a><ul>
<li><a class="reference internal" href="#toscana.data_pre_processing.grid_creation.define_grid"><code class="docutils literal notranslate"><span class="pre">define_grid()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.grid_creation.obtain_grid"><code class="docutils literal notranslate"><span class="pre">obtain_grid()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.grid_creation.obtain_municipality_extent"><code class="docutils literal notranslate"><span class="pre">obtain_municipality_extent()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-toscana.data_pre_processing.meteorological_files">toscana.data_pre_processing.meteorological_files module</a><ul>
<li><a class="reference internal" href="#toscana.data_pre_processing.meteorological_files.create_monthly_weather_file"><code class="docutils literal notranslate"><span class="pre">create_monthly_weather_file()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.meteorological_files.create_period_weather_file"><code class="docutils literal notranslate"><span class="pre">create_period_weather_file()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.meteorological_files.create_winter_summer_month_weather_file"><code class="docutils literal notranslate"><span class="pre">create_winter_summer_month_weather_file()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.meteorological_files.obtain_meteorological_files"><code class="docutils literal notranslate"><span class="pre">obtain_meteorological_files()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.meteorological_files.transform_days_into_period"><code class="docutils literal notranslate"><span class="pre">transform_days_into_period()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-toscana.data_pre_processing.raster_preprocessing">toscana.data_pre_processing.raster_preprocessing module</a><ul>
<li><a class="reference internal" href="#toscana.data_pre_processing.raster_preprocessing.create_DHM"><code class="docutils literal notranslate"><span class="pre">create_DHM()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.raster_preprocessing.create_DSM"><code class="docutils literal notranslate"><span class="pre">create_DSM()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.raster_preprocessing.download_extract_and_merge_DEM_from_OpenDEM"><code class="docutils literal notranslate"><span class="pre">download_extract_and_merge_DEM_from_OpenDEM()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.raster_preprocessing.preprocess_raster_file"><code class="docutils literal notranslate"><span class="pre">preprocess_raster_file()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.raster_preprocessing.resample_DEM"><code class="docutils literal notranslate"><span class="pre">resample_DEM()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.raster_preprocessing.select_buildings_height_sup_0"><code class="docutils literal notranslate"><span class="pre">select_buildings_height_sup_0()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-toscana.data_pre_processing.shp_preprocessing">toscana.data_pre_processing.shp_preprocessing module</a><ul>
<li><a class="reference internal" href="#toscana.data_pre_processing.shp_preprocessing.check_validity"><code class="docutils literal notranslate"><span class="pre">check_validity()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.shp_preprocessing.download_and_extract_BDTOPO_data"><code class="docutils literal notranslate"><span class="pre">download_and_extract_BDTOPO_data()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.shp_preprocessing.obtain_municipality_buildings"><code class="docutils literal notranslate"><span class="pre">obtain_municipality_buildings()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.shp_preprocessing.obtain_municipality_footprint"><code class="docutils literal notranslate"><span class="pre">obtain_municipality_footprint()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.shp_preprocessing.preprocess_municipality_buildings"><code class="docutils literal notranslate"><span class="pre">preprocess_municipality_buildings()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.shp_preprocessing.reproject_shapefiles_2154_to_IGNF"><code class="docutils literal notranslate"><span class="pre">reproject_shapefiles_2154_to_IGNF()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-toscana.data_pre_processing">Module contents</a><ul>
<li><a class="reference internal" href="#toscana.data_pre_processing.check_validity"><code class="docutils literal notranslate"><span class="pre">check_validity()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.create_monthly_weather_file"><code class="docutils literal notranslate"><span class="pre">create_monthly_weather_file()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.create_period_weather_file"><code class="docutils literal notranslate"><span class="pre">create_period_weather_file()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.create_winter_summer_month_weather_file"><code class="docutils literal notranslate"><span class="pre">create_winter_summer_month_weather_file()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.define_grid"><code class="docutils literal notranslate"><span class="pre">define_grid()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.download_and_extract_BDTOPO_data"><code class="docutils literal notranslate"><span class="pre">download_and_extract_BDTOPO_data()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.download_extract_and_merge_DEM_from_OpenDEM"><code class="docutils literal notranslate"><span class="pre">download_extract_and_merge_DEM_from_OpenDEM()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.obtain_grid"><code class="docutils literal notranslate"><span class="pre">obtain_grid()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.obtain_meteorological_files"><code class="docutils literal notranslate"><span class="pre">obtain_meteorological_files()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.obtain_municipality_buildings"><code class="docutils literal notranslate"><span class="pre">obtain_municipality_buildings()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.obtain_municipality_extent"><code class="docutils literal notranslate"><span class="pre">obtain_municipality_extent()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.obtain_municipality_footprint"><code class="docutils literal notranslate"><span class="pre">obtain_municipality_footprint()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.preprocess_municipality_buildings"><code class="docutils literal notranslate"><span class="pre">preprocess_municipality_buildings()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.reproject_shapefiles_2154_to_IGNF"><code class="docutils literal notranslate"><span class="pre">reproject_shapefiles_2154_to_IGNF()</span></code></a></li>
<li><a class="reference internal" href="#toscana.data_pre_processing.transform_days_into_period"><code class="docutils literal notranslate"><span class="pre">transform_days_into_period()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=000c92bf"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>